DROP TABLE IF EXISTS `feilrap_skift`;
CREATE TABLE `feilrap_skift` (
  `skiftid` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `skiftcreated` datetime NOT NULL,
  `skiftclosed` datetime DEFAULT NULL,
  `israpportert` tinyint(3) unsigned NOT NULL DEFAULT '0',
  `userid` int(10) unsigned NOT NULL,
  `rapportid` int(10) unsigned DEFAULT NULL,
  `skiftlastupdate` datetime DEFAULT NULL,
  PRIMARY KEY (`skiftid`),
  UNIQUE KEY `skiftid_UNIQUE` (`skiftid`),
  KEY `skift_eier` (`userid`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

DROP TABLE IF EXISTS `feilrap_teller`;
CREATE TABLE `feilrap_teller` (
  `tellerid` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `tellernavn` varchar(45) NOT NULL DEFAULT 'TELLER UTEN NAVN',
  `tellerdesc` varchar(200) DEFAULT NULL,
  `tellertype` varchar(20) NOT NULL,
  `isactive` tinyint(3) unsigned NOT NULL DEFAULT '1',
  PRIMARY KEY (`tellerid`),
  UNIQUE KEY `tellerid_UNIQUE` (`tellerid`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

DROP TABLE IF EXISTS `feilrap_tellerakt`;
CREATE TABLE `feilrap_tellerakt` (
  `telleraktid` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `tidspunkt` datetime NOT NULL,
  `skiftid` int(10) unsigned NOT NULL,
  `tellerid` int(10) unsigned NOT NULL,
  `verdi` tinyint(4) NOT NULL,
  PRIMARY KEY (`telleraktid`),
  UNIQUE KEY `telleraktid_UNIQUE` (`telleraktid`),
  KEY `skiftid` (`skiftid`),
  KEY `tellertypeid` (`tellerid`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

DROP TABLE IF EXISTS `internusers`;
CREATE TABLE `internusers` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `wikiname` varchar(45) NOT NULL DEFAULT 'MANGLER NAVN',
  `createtime` datetime NOT NULL,
  `lastlogin` datetime DEFAULT NULL,
  `isactive` tinyint(1) unsigned NOT NULL DEFAULT '1',
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_UNIQUE` (`id`),
  UNIQUE KEY `fullname_UNIQUE` (`wikiname`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

DROP TABLE IF EXISTS `feilrap_notat`;
CREATE TABLE `feilrap_notat` (
  `notatid` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `isactive` tinyint(3) unsigned NOT NULL DEFAULT '1',
  `notattype` varchar(45) NOT NULL,
  `notattekst` text,
  `skiftid` int(10) unsigned NOT NULL,
  `inrapport` tinyint(3) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`notatid`),
  UNIQUE KEY `notatid_UNIQUE` (`notatid`),
  KEY `skiftid_KEY` (`skiftid`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

DROP TABLE IF EXISTS `feilrap_rapport`;
CREATE TABLE `feilrap_rapport` (
  `rapportid` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `createtime` datetime NOT NULL,
  `skiftnavn` varchar(20) DEFAULT NULL,
  `rapportowner` int(10) unsigned NOT NULL,
  `templateid` int(10) NOT NULL,
  PRIMARY KEY (`rapportid`),
  UNIQUE KEY `rapportid_UNIQUE` (`rapportid`),
  KEY `rapportowner` (`rapportowner`),
  KEY `timeindex` (`createtime`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

DROP TABLE IF EXISTS `feilrap_rapportdata`;
CREATE TABLE `feilrap_rapportdata` (
  `rapportdataid` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `rapportid` int(10) unsigned NOT NULL,
  `dataname` varchar(100) NOT NULL,
  `datavalue` varchar(2000) NOT NULL,
  `datatype` varchar(45) NOT NULL,
  PRIMARY KEY (`rapportdataid`),
  UNIQUE KEY `rapportdataid_UNIQUE` (`rapportdataid`),
  KEY `rapportid` (`rapportid`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

DROP TABLE IF EXISTS `feilrap_raptpl`;
CREATE TABLE `feilrap_raptpl` (
  `raptplid` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `templatetekst` text,
  `tplisactive` tinyint(3) unsigned NOT NULL DEFAULT '0',
  `createdate` datetime NOT NULL,
  `activesince` datetime DEFAULT NULL,
  `isdeleted` tinyint(3) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`raptplid`),
  UNIQUE KEY `raptplid_UNIQUE` (`raptplid`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

